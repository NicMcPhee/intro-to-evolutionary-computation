<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Does klipse work? | Your awesome title</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Does klipse work?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Simple example of search" />
<meta property="og:description" content="Simple example of search" />
<link rel="canonical" href="http://localhost:4000/jekyll/klipse/2019/08/16/klipse-test.html" />
<meta property="og:url" content="http://localhost:4000/jekyll/klipse/2019/08/16/klipse-test.html" />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-08-16T21:10:02-05:00" />
<script type="application/ld+json">
{"description":"Simple example of search","@type":"BlogPosting","url":"http://localhost:4000/jekyll/klipse/2019/08/16/klipse-test.html","headline":"Does klipse work?","dateModified":"2019-08-16T21:10:02-05:00","datePublished":"2019-08-16T21:10:02-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/jekyll/klipse/2019/08/16/klipse-test.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Your awesome title" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Your awesome title</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/pages/intro-to-search.html">The basic ideas of search</a><a class="page-link" href="/pages/simple-search-algorithms.html">Simple search algorithms in Clojure</a><a class="page-link" href="/pages/simple-states-in-clojure.html">Implementing simple states in Clojure</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Does klipse work?</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-08-16T21:10:02-05:00" itemprop="datePublished">Aug 16, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="simple-example-of-search">Simple example of search</h1>

<p>Let us first consider an <em>extremely</em> (&amp; deliberately) simple example. Imagine
a little robot, Pat, on an integer grid at position (10, 10) who needs to get to
(0, 0).</p>

<p><img src="/assets/simple_search_grid.svg" alt="Integer grid with robot at (10, 10) and goal at (0, 0)." width="75%" /></p>

<p>Our friend Pat can only go left-right and up-down. They can’t cut across
diagonals – imagine it’s a city street map and they can’t wander through
random office buildings.</p>

<p>How might we frame this as a search problem? Let us first represent Pat’s
<em>state</em>, which for our purposes is just Pat’s position on the grid as an
ordered pair <script type="math/tex">(x, y)</script>. <input type="checkbox" id="cb1" /><label for="cb1"><sup class="note-marker">*</sup></label><span>Pat’s state could be a pretty complex thing, including the state of their batteries,
the urgency of the current goal, etc., but we’re going to ignore all that for
now.</span> Thus in our example Pat’s <em>initial state</em> is (10, 10) and
their <em>goal state</em> is (0, 0). At each time step Pat can make one of four moves:</p>

<ul>
  <li><code class="highlighter-rouge">up</code>, which takes the state <script type="math/tex">(x, y)</script> to <script type="math/tex">(x, y+1)</script></li>
  <li><code class="highlighter-rouge">down</code>, which takes the state <script type="math/tex">(x, y)</script> to <script type="math/tex">(x, y-1)</script></li>
  <li><code class="highlighter-rouge">left</code>, which takes the state <script type="math/tex">(x, y)</script> to <script type="math/tex">(x-1, y)</script></li>
  <li><code class="highlighter-rouge">right</code>, which takes the state <script type="math/tex">(x, y)</script> to <script type="math/tex">(x+1, y)</script></li>
</ul>

<p>A <em>solution</em> for this problem is then a sequence of moves that takes Pat from
(10, 10) to (0, 0). As is typically the case, there are many possible solutions.
Some are in some sense “optimal”; here the solution that goes <code class="highlighter-rouge">left</code> 10 times
and then <code class="highlighter-rouge">down</code> 10 times is one of many examples of a <em>shortest</em> solution.</p>

<p>The idea then is to <em>search</em> for a solution (a sequence of moves) that gets
Pat from their start state to their goal state. A common way of visualizing
this is as a <em>search tree</em>, where each <em>node</em> represents a state of the system
(Pat’s position in our case) and its <em>children</em> represent the states reachable
from the <em>parent</em> state.</p>

<p>The diagram below illustrates Pat starting at (10, 10) and exploring a few
paths:</p>

<p><img src="/assets/simple_search_tree.svg" alt="A subset of the first few levels of a search tree." /></p>

<p>At the first step, Pat has four options:</p>

<ul>
  <li><code class="highlighter-rouge">up</code>, which goes to (10, 11)</li>
  <li><code class="highlighter-rouge">down</code>, which goes to (10, 9)</li>
  <li><code class="highlighter-rouge">left</code>, which goes to (9, 10)</li>
  <li><code class="highlighter-rouge">right</code>, which goes to (11, 10)</li>
</ul>

<p>From each of those new positions, Pat again has
four options, one of which (<code class="highlighter-rouge">left</code>) leads to (9, 9); to keep the size of the
diagram manageable we’ve omitted the other three states. From (9, 9) there are
again four options, as illustrated in the figure.</p>

<h1 id="the-size-of-search-trees">The size of search trees</h1>

<p>In theory Pat could find a path to (0, 0) by simply expanding this tree until
they find the desired node. Even in this very simple example, however, this
quickly becomes infeasible as the number of states that need to be explored
grows rapidly as one expands down the tree. Here, for example, the number of
nodes at level <script type="math/tex">N+1</script> is four times the number of nodes at level <script type="math/tex">N</script> because
each node has four children. Thus the number of nodes at level <script type="math/tex">N</script> is <script type="math/tex">4^N</script>,
and expanding the tree down the 20 levels necessary for a <em>minimal</em> solution
leads to a level with <script type="math/tex">4^{20} = 1,099,511,627,776 \approx 10^{12}</script> nodes!
And that’s just for this very simple example; more realistic search spaces
tend to be be <em>much</em> larger; <a href="https://math.stackexchange.com/questions/1406919/how-many-legal-states-of-chess-exists">the number of legal chess configurations is
estimated to be in the neighborhood of <script type="math/tex">10^{45}</script></a>. The numbers for the game
of go <a href="https://senseis.xmp.net/?NumberOfPossibleGoGames">are much larger still</a>:</p>

<blockquote>
  <p>Statistics from real games between professional players show that it is
extremely rare for a game to last more than 400 moves. If, on average, there are
100 legal moves in every position, then the possible number of games of length
400 or less is in the order of <script type="math/tex">10^{800}</script>, corresponding to around
<script type="math/tex">10^{720}</script> possible games for every atom in the known universe. – <a href="https://senseis.xmp.net/?NumberOfPossibleGoGames">senseis.xmp.net</a></p>
</blockquote>

<p>Yikes!</p>

<h1 id="repetition-and-search-trees">Repetition and search trees</h1>

<p>The search tree above also illustrates an annoying property of most search
trees: there is often repetition, and frequently lots of it. In our diagram
there are two instances of (10, 9) shown, and in fact there are many more
duplicates if we expand the nodes below the first instance of (10, 9) on
the level with depth 1. As we expand farther and farther down we’ll find more and
more duplicates; every level with an even depth, for example, will have an
increasing number of copies of (10, 10) that result from sequences that “undo”
all their work such as <code class="highlighter-rouge">up-down-down-up</code> and <code class="highlighter-rouge">left-down-right-up</code>. As we’ll
see later, we’ll probably want our search techniques to avoid
repeatedly processing duplicate states.</p>

<p>There can, however, be times when we want to
revisit a state. If the first time we visited a state it was very
“expensive” to get there (e.g., required many moves), we might have then
decided we didn’t
want to further explore that state. If we later find a “cheaper” way to reach
that state, then our interest in it might increase and we might
want to (re)explore the paths from that state.</p>

<h1 id="next-implementing-these-ideas-in-clojure">Next: Implementing these ideas in Clojure</h1>

<p>In the next installment we’ll look at how to actually generate these kinds of
search trees in Clojure, and some simple algorithms for searching them.</p>

  </div><a class="u-url" href="/jekyll/klipse/2019/08/16/klipse-test.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Your awesome title</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Your awesome title</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
